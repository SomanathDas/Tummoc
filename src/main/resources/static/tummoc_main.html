<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Your Tummoc Pass</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
          rel="stylesheet" />
    <link rel="stylesheet" href="CSS/tummoc_main_style.css" />
    <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
    <script src="https://unpkg.com/html5-qrcode"></script>
</head>

<body>
<div class="header">
    <h1>Your Tummoc Pass</h1>
    <a href="passenger_form.html" class="support">Support</a>
</div>

<div class="pass-container">
    <div class="pass-header">
        <img src="/image/bmtc%20logo.jfif" alt="BMTC Logo" />
        <div class="pass-details">
            <h2>Ordinary Day Pass</h2>
            <div>
                <span class="tag day">Daily</span>
                <span class="tag ordinary">AC</span>
            </div>
        </div>
    </div>
    <div class="pass-id">
        <p>Pass ID: <span class="pass-number">TEHDI274784</span></p>
        <div class="divider"></div>
    </div>
    <div class="qr-section">
        <div class="qr-container">
            <a href="#" class="validate-btn" onclick="openQRScanner()">
                <img src="/image/QR-logo.png" alt="QR Code" />
                Scan QR to Validate</a>
        </div>
    </div>
</div>

<div class="booking-details-container">
    <div class="booking-details">
        <h3>Booking Details</h3>
        <div class="divider"></div>
        <div class="passenger-info">
            <div class="passenger-details">
                <div class="group">
                    <p class="label">Passenger Name</p>
                    <p class="info" id="passengerName">Somanath Das</p>
                </div>
                <div class="group">
                    <p class="label">Identification type</p>
                    <p class="info" id="identificationType">Aadhar Card</p>
                </div>
                <div class="group">
                    <p class="label">Identification number(Last 4 digits)</p>
                    <p class="info" id="identificationNumber">6661</p>
                </div>
                <div class="group">
                    <p class="label">Pass purchased date</p>
                    <p class="info" id="passPurchased">16 Jun 2024, 10:35 AM</p>
                </div>
                <div class="group">
                    <p class="label">Pass valid from</p>
                    <p class="info" id="passValidFrom">16 Jun 2024, 12:00 AM</p>
                </div>
                <div class="group">
                    <p class="label">Pass valid till</p>
                    <p class="info" id="passValidTill">16 Jun 2024, 11:59 PM</p>
                </div>
            </div>
            <div class="passenger-avatar-container">
                <img src="/image/avatar-round.png" class="passenger-avatar" alt="Passenger Avatar" id="passengerAvatar" />
                <div class="pass-fare">
                    <p class="label">Pass Fare</p>
                    <p class="info" id="passFare">â‚¹70.0</p>
                </div>
            </div>
        </div>
        <div class="divider"></div>
        <div class="generate-mail-btn">
            <button class="validate-btn">
                <img  class="mail-img" src="/image/email-open.png" alt="Mail">
                Generate mail receipt</button>
        </div>
        <div class="divider"></div>
        <div class="last-validated-bus-route">
            <div class="last-validated">
                <div class="group">
                    <p class="label">Last Validated</p>
                    <p id="lastValidatedInfo" class="info">16 Jun 2024, 06:58 PM</p>
                </div>
            </div>
            <div class="bus-number">
                <div class="group">
                    <p class="label">Bus Number</p>
                    <p id="busNumberInfo" class="info">BMTC BUS KA57F4727</p>
                </div>
            </div>
            <div class="validated-by">
                <div class="group">
                    <p class="label">Validated By</p>
                    <p id="validatedBy" class="info">Self</p>
                </div>
            </div>
        </div>
        <div class="divider"></div>
        <div class="random-qr">
            <img src="/image/demo-qrcode.png" alt="QR"/>
        </div>
    </div>
</div>
</div>

<div class="dropdown-container">
    <div class="dropdown">
        <button onclick="toggleDropdown()" class="dropbtn">Term and Conditions</button>
        <div id="myDropdown" class="dropdown-content">
            <ul>
                <li>Pass is valid for travel for the services it has been purchased and until the expiry date printed on the pass</li>
                <li>In case the conductor asks for your ID proof, you can either show a physical/digital copy of the ID used at the time of booking.</li>
                <li>Only one pass is allowed for one ID card</li>
                <li>Pass holders must show their passes to conductors or any authorised person on demand</li>
                <li>Improper/misuse of pass results in withdrawal of pass, attract penalty and pass holder will be liable to legal implications</li>
                <li>BMTC is not responsible if passenger/pass holder's mobile application is not working or switched off</li>
                <li>BMTC is not responsible if passenger/pass holder has entered wrong ID number in mobile pass purchased and the same cannot be accepted</li>
                <li>Pass holders should abide by and accept the conditions on which the pass is issued</li>
                <li>It is not required to carry BMTC ID card for pass holders who have purchased a digital pass</li>
            </ul>
        </div>
    </div>
</div>

<!-- QR Code Scanner -->
<div id="qrModal" class="modal">
    <div class="modal-content">
        <div id="reader"></div>
        <div class="overlay"></div>
        <span class="close" onclick="closeQRScanner()">&times;</span>
        <input type="range"
               id="zoom-bar"
               class="zoom-bar"
               min="1"
               max="3"
               step="0.1"
               value="1"
               onchange="updateZoom()" />
    </div>
</div>

<!-- Success QR Popup Modal -->
<div id="successModal" class="success-modal">
    <div class="success-modal-content">
        <div class="checkmark">
            <img src="/image/success.png" alt="checkmark">
        </div>
        <h3>Self verification done successfully</h3>
        <div class="details">
            <p>Pass number: <span id="passNumber"></span></p>
            <p>Pass type: <span id="passType"></span></p>
            <p>Pass valid till: <span id="validTill"></span></p>
            <div class="divider"></div>
            <p class="pass-fare">Pass fare: <span id="passRate"></span></p>
        </div>
        <button class="ok-button" onclick="closeModal()">OK</button>
    </div>
</div>

<script src="JS/tummoc_main_JS.js"></script>
</body>
</html>